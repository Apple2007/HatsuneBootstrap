<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <title>Hatsune Miku & VOCALOID: The History Behind the Diva</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Bootstrap JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://kit.fontawesome.com/8fb199d807.js" crossorigin="anonymous"></script>
    <link rel="manifest" href="/manifest.json">
    <style>
        .carousel {
            border-radius: 100px 100px 100px 100px;
            overflow: hidden;
            height: 500px;
            margin-bottom: 60px;
            margin-top: 40px;
            margin-left: 100px;
            margin-right: 100px;
        }
        /* Since positioning the image, we need to help out the caption */
        .carousel-caption {
            z-index: 10;
        }
        /* Declare heights because of positioning of img element */
        .carousel .item {
            width: 100%;
            height: 500px;
            background-color: #777;
        }
        .carousel-inner > .item > img {
            position: absolute;
            top: 0;
            left: 0;
            min-width: 100%;
            height: 500px;
        }
        @media (min-width: 768px) {
            .carousel-caption p {
                margin-bottom: 20px;
                font-size: 21px;
                line-height: 1.4;
            }
        }
        img {
            border-radius: 100px 100px 100px 100px;
        }
        .glyphicon {
            color: #e12885
        }
    </style>
</head>
<body>
<div class="container-fluid">
    <div class="jumbotron text-center">
        <h1>Hatsune Miku & VOCALOID: The History Behind the Diva</h1>
    </div>
</div>
<div class="container">
    <nav class="navbar navbar-default" style="background-color: #86cecb;">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navLinks" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html" style="color: white;">VOCALOID History</a>
            </div>
            <div id="navLinks" class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#" style="background-color: #e12885; color: white;">Home</a></li>
                    <li><a href="premiku.html" style="color: white;">Pre-Miku (1961; 2000 - August 2007)</a></li>
                    <li><a href="postmiku.html" style="color: white;">Post-Miku (August 31st 2007 - Present)</a></li>
                    <li><a href="impact.html" style="color: white;">Impact</a></li>
                    <li><a href="podcastscript.html" style="color: white;">Podcast Script</a></li>
                    <li><a href="aboutauthor.html" style="color: white;">About the Author</a></li>
                </ul>
            </div>
        </div>
    </nav>
</div>
<div class="container">
    <p>
        This is the website version of the Studio 39 video "Hatsune Miku and VOCALOID: The History Behind the Diva." The video is linked below:
    </p>
    <iframe class = "video" width ="75%" src="https://www.youtube.com/embed/L-jA79a35ZY" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
    <br>
    <p>
        Here are all the time periods and links to each time period:
    </p>
    <br>
    <table class="text-center table table-hover">
        <thead>
            <tr>
                <th>Time Period</th>
                <th>Link</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Pre-Miku (1961; 2000 - August 2007)</td>
                <td><a href="premiku.html">Click Here</a></td>
            </tr>
            <tr>
                <td>Post-Miku (August 31st 2007 - Present)</td>
                <td><a href="postmiku.html">Click Here</a></td>
            </tr>
            <tr>
                <td>Impact of Success</td>
                <td><a href="impact.html">Click Here</a></td>
            </tr>
        </tbody>
    </table>
    <br>
    <div id="carousel" class="carousel slide" data-ride="carousel" data-interval="30000" data-pause="hover">
        <!-- Menu -->
        <ol class="carousel-indicators">
            <li data-target="#carousel" data-slide-to="0" class="active"></li>
            <li data-target="#carousel" data-slide-to="1"></li>
            <li data-target="#carousel" data-slide-to="2"></li>
            <li data-target="#carousel" data-slide-to="3"></li>
            <li data-target="#carousel" data-slide-to="4"></li>
            <li data-target="#carousel" data-slide-to="5"></li>
            <li data-target="#carousel" data-slide-to="6"></li>
            <li data-target="#carousel" data-slide-to="7"></li>
            <li data-target="#carousel" data-slide-to="8"></li>
            <li data-target="#carousel" data-slide-to="9"></li>
        </ol>
    
        <!-- Items -->
        <div class="carousel-inner">
            <div class="item active">
                <img src="pictures/mikuv2boxart.webp" alt="Slide 1" />
            </div>
            <div class="item">
                <img src="pictures/meikoandkaito.jpg" alt="Slide 2" />
            </div>
            <div class="item">
                <img src="pictures/Miku_Expo_2024_North_America.jpg" alt="Slide 3" />
            </div>
            <div class="item">
                <img src="pictures/rinandlen.webp" alt="Slide 4" />
            </div>
            <div class="item">
                <img src="pictures/RenaiSaiban.webp" alt="Slide 5" />
            </div>
            <div class="item">
                <img src="pictures/Tell_your_world_f_loading_screen.webp" alt="Slide 6" />
            </div>
            <div class="item">
                <img src="pictures/Just-be-friends.webp" alt="Slide 7" />
            </div>
            <div class="item">
                <img src="pictures/URcover.webp" alt="Slide 8" />
            </div>
            <div class="item">
                <img src="pictures/momonyancat.jpg" alt="Slide 9" />
            </div>
            <div class="item">
                <img src="pictures/mikuconcertdrawing.png" alt="Slide 10" />
            </div>
        </div> 
        <a href="#carousel" class="left carousel-control" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left"></span>
        </a>
        <a href="#carousel" class="right carousel-control" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right"></span>
        </a>
    </div>
    <h2 class="text-center">My Favorite songs in a convenient player...</h2>
    <br>
    <div id="musicplayer">
        <div>
            <marquee scrollamount="8" class="songtitle"></marquee>
        </div>

        <table class="controls">
            <tr>
                <td>
                    <div class="prev-track" onclick="prevTrack()"><i class="fas fa-backward"></i></div>
                </td>
                <td>
                    <div class="playpause-track" onclick="playpauseTrack()" ><i class="fas fa-play"></i></div>
                </td>
                <td>
                    <div class="next-track" onclick="nextTrack()"><i class="fas fa-forward"></i></div>
                </td>
            </tr>
        </table>

        <div class="seeking">
            <div class="current-time">00:00</div>
            <input type="range" min="1" max="100" value="0" class="seek_slider" onchange="seekTo()">
            <div class="total-duration">0:00</div>
        </div>
        <audio id="music" src=""></audio>
    </div>
    <br>
    <script>
        // initiate variables
        let track_name = document.querySelector(".songtitle");

        let playpause_btn = document.querySelector(".playpause-track");
        let next_btn = document.querySelector(".next-track");
        let prev_btn = document.querySelector(".prev-track");

        let seek_slider = document.querySelector(".seek_slider");
        let curr_time = document.querySelector(".current-time");
        let total_duration = document.querySelector(".total-duration");

        let track_index = 0;
        let isPlaying = false;
        let updateTimer;

        // create new audio element
        let curr_track = document.getElementById("music");

        //
        // DEFINE YOUR SONGS HERE!!!!!
        // MORE THAN FOUR SONGS CAN BE ADDED!!
        // JUST ADD ANOTHER BRACKET WITH NAME AND PATH
        // CATBOX.MOE IS RECOMMENDED FOR UPLOADING MP3 FILES
        let track_list = [
            {
                name:"kz (livetune) - Tell Your World",
                path:"music/tellyourworld.mp3"
            },
            {
                name:"mikitoP - 39 Music",
                path:"music/39.mp3"
            },
            {
                name:"kz (livetune) - Catch The Wave",
                path:"music/catchthewave.mp3"
            },
            {
                name: "BIGHEAD - Sharing the World",
                path: "music/sharingtheworld.mp3",
            },
            {
                name: "ryo - World is Mine",
                path: "music/worldismine.mp3",
            },
            {
                name: "Yunosuke & CircusP - Intergalatic Bound",
                path: "music/intergalaticbound.mp3",
            },
            {
                name: "PinocchioP - Anonymous M",
                path: "music/anonymousm.mp3",
            },
        ];

        function loadTrack(track_index) {
            clearInterval(updateTimer);
            resetValues();

            // load a new track
            curr_track.src = track_list[track_index].path;
            curr_track.load();

            // update details of the track
            track_name.textContent = "Now Playing " + (track_index + 1) + " of " + track_list.length + ": " + track_list[track_index].name;

            // set an interval of 1000 milliseconds for updating the seek slider
            updateTimer = setInterval(seekUpdate, 1000);

            // move to the next track if the current one finishes playing
            curr_track.addEventListener("ended", nextTrack);
        }

        // reset values
        function resetValues() {
            curr_time.textContent = "0:00";
            total_duration.textContent = "0:00";
            seek_slider.value = 0;
        }

        // checks if song is playing
        function playpauseTrack() {
            if (!isPlaying) playTrack();
            else pauseTrack();
        }

        // plays track when play button is pressed
        function playTrack() {
            curr_track.play();
            isPlaying = true;

            // replace icon with the pause icon
            playpause_btn.innerHTML = '<i class="fas fa-pause"></i>';
        }

        // pauses track when pause button is pressed
        function pauseTrack() {
            curr_track.pause();
            isPlaying = false;

            // replace icon with the play icon
            playpause_btn.innerHTML = '<i class="fas fa-play"></i>';
        }

        // moves to the next track
        function nextTrack() {
            if (track_index < track_list.length - 1)
                track_index += 1;
            else track_index = 0;
            loadTrack(track_index);
            playTrack();
        }

        // moves to the previous track
        function prevTrack() {
            if (track_index > 0)
                track_index -= 1;
            else track_index = track_list.length;
            loadTrack(track_index);
            playTrack();
        }

        // seeker slider
        function seekTo() {
            seekto = curr_track.duration * (seek_slider.value / 100);
            curr_track.currentTime = seekto;
        }

        function seekUpdate() {
            let seekPosition = 0;

            // check if the current track duration is a legible number
            if (!isNaN(curr_track.duration)) {
                seekPosition = curr_track.currentTime * (100 / curr_track.duration);
                seek_slider.value = seekPosition;

                // calculate the time left and the total duration
                let currentMinutes = Math.floor(curr_track.currentTime / 60);
                let currentSeconds = Math.floor(curr_track.currentTime - currentMinutes * 60);
                let durationMinutes = Math.floor(curr_track.duration / 60);
                let durationSeconds = Math.floor(curr_track.duration - durationMinutes * 60);

                // adding a zero to the single digit time values
                if (currentSeconds < 10) { currentSeconds = "0" + currentSeconds; }
                if (durationSeconds < 10) { durationSeconds = "0" + durationSeconds; }
                if (currentMinutes < 10) { currentMinutes = currentMinutes; }
                if (durationMinutes < 10) { durationMinutes = durationMinutes; }

                curr_time.textContent = currentMinutes + ":" + currentSeconds;
                total_duration.textContent = durationMinutes + ":" + durationSeconds;
            }
        }

        // load the first track in the tracklist
        loadTrack(track_index);
    </script>
    <br>
    <p class="text-center">The original script for the video is also here on the site...</p>
    <br>
</div>
<script>
    if('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js', { scope: '/' });
    }
</script>
</body>
